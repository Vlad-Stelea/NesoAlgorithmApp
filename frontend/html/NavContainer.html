<!DOCTYPE html>
<html>
<head>
    <script src="../js/network/AlgorithmsRepo.js"></script>
    <script src="../js/network/ClassificationRepo.js"></script>
    <script src="../js/network/ProblemInstanceRepo.js"></script>
    <script src="../js/network/mockxhr.js"></script>
    <script src="../js/network/ImplementationRepo.js"></script>
    <script type='text/javascript' src='../js/api.js'></script>
    <!-- Import the jquery lib to make development more simple -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- Load the navigation script -->
    <script src="../js/navigation/navigation.js"></script>
    <!-- load the ViewModel scripts -->
    <script src="../js/viewModel/viewModel.js"></script>
    <script src="../js/viewModel/user.js"></script>
    <!-- load all auth scripts we might need -->
    <script src="../js/auth/getAuthToken.js"></script>
    <!-- load the configs -->
    <script src="../js/config/devConfig.js"></script>
    <script src="../js/config/liveConfig.js"></script>
    <!-- Initialize everything -->
    <script type="text/javascript">
        const DEV_MODE = true;
        const config = DEV_MODE ? DevConfig : LiveConfig;
        // Initialize the nav component
        const navigation = new Navigation("#viewContainer", config.LOGIN_URL_CALLBACK);
        const algorithmRepo = config.ALGORITHMS_REPO;
        const classificationRepo = config.CLASSIFICATIONS_REPO;
        const problemInstanceRepo = config.PROBLEMINSTANCES_REPO;
        const implementationRepo = config.IMPLEMENTATIONS_REPO;
        const benchmarkRepo = config.BENCHMARKS_REPO;
        const vm = new ViewModel();
        function initContainer() {
            vm.user.token = extractAuthToken();
            // This should be done at end to make sure it initializes correctly
            navigation.goToRegisteredUsersPage();
        }

        $(document).ready(function(){
            initContainer();
        });
    </script>
</head>

<body onload="initContainer()">
<!-- Container div where our views will be rendered -->
<div id="viewContainer"></div>

</body>

</html>
